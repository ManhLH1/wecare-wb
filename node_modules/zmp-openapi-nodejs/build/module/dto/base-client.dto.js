import axios, { AxiosError } from 'axios';
import FormData from 'form-data';
import qs from 'qs';
import { Constant } from '../config/constant';
export class BaseClient {
    apiKey;
    isUseProxy = false;
    proxy;
    domain = Constant.DOMAIN_PROD;
    sdkVersion = '2.1.0';
    sdkName = 'Node.js';
    headers;
    apiKeyHeaderName;
    identityHeaderName;
    identity;
    version;
    constructor(version, apiKeyHeaderName, apiKey, identityHeaderName, identity, proxy) {
        this.version = version;
        this.apiKeyHeaderName = apiKeyHeaderName;
        this.apiKey = apiKey;
        this.identityHeaderName = identityHeaderName;
        this.identity = identity;
        if (proxy) {
            this.proxy = proxy;
            this.isUseProxy = true;
        }
        this.headers = {
            [apiKeyHeaderName]: `Bearer ${this.apiKey}`,
            [identityHeaderName]: this.identity,
            'X-Sdk-Version': this.sdkVersion,
            'X-Sdk-Name': this.sdkName,
        };
    }
    validateInit = () => {
        if (!this.apiKey ||
            !this.identity ||
            !this.apiKeyHeaderName ||
            !this.identityHeaderName) {
            throw new Error('Invalid init value');
        }
        if (this.isUseProxy && (!this.proxy.host || !this.proxy.port)) {
            throw new Error('Invalid proxy value');
        }
    };
    setProxy(proxy) {
        this.proxy = proxy;
        this.isUseProxy = true;
    }
    cancelProxy() {
        this.proxy = null;
        this.isUseProxy = false;
    }
    async doGet(endpoint, params, options = {}) {
        try {
            this.validateInit();
            const response = await axios.get(`${this.domain}${endpoint}`, {
                params,
                headers: this.headers,
                proxy: this.isUseProxy && { ...this.proxy },
            });
            return {
                error: response.data.err,
                message: response.data.msg,
                ...response.data.data,
            };
        }
        catch (error) {
            if (error instanceof AxiosError) {
                return {
                    error: (error.response ? error.response.status : error.status) ?? -1,
                    message: options.mapAxiosError
                        ? options.mapAxiosError(error)
                        : error.response
                            ? error.response.data.msg
                            : error.message,
                    ...{},
                };
            }
            return {
                error: -1,
                message: error instanceof Error ? error.message : error,
                ...{},
            };
        }
    }
    async doPost(endpoint, params, options = {}) {
        try {
            this.validateInit();
            const response = await axios.post(`${this.domain}${endpoint}`, params, {
                headers: this.headers,
                proxy: this.isUseProxy && { ...this.proxy },
            });
            return {
                error: response.data.err,
                message: response.data.msg,
                ...response.data.data,
            };
        }
        catch (error) {
            if (error instanceof AxiosError) {
                return {
                    error: (error.response ? error.response.status : error.status) ?? -1,
                    message: options.mapAxiosError
                        ? options.mapAxiosError(error)
                        : error.response
                            ? error.response.data.msg
                            : error.message,
                    ...{},
                };
            }
            return {
                error: -1,
                message: error instanceof Error ? error.message : error,
                ...{},
            };
        }
    }
    async doPut(endpoint, params, options = {}) {
        try {
            this.validateInit();
            const response = await axios.put(`${this.domain}${endpoint}`, params, {
                headers: this.headers,
                proxy: this.isUseProxy && { ...this.proxy },
            });
            return {
                error: response.data.err,
                message: response.data.msg,
                ...response.data.data,
            };
        }
        catch (error) {
            if (error instanceof AxiosError) {
                return {
                    error: (error.response ? error.response.status : error.status) ?? -1,
                    message: options.mapAxiosError
                        ? options.mapAxiosError(error)
                        : error.response
                            ? error.response.data.msg
                            : error.message,
                    ...{},
                };
            }
            return {
                error: -1,
                message: error instanceof Error ? error.message : error,
                ...{},
            };
        }
    }
    async getMiniApps(appSlice) {
        return this.doGet(`${this.buildRequestURI()}`, { ...appSlice });
    }
    getVersionsMiniApp = (appSlice) => {
        return this.doGet(`${this.buildRequestURI(appSlice.miniAppId, Constant.VERSIONS)}`, { ...appSlice }, {
            mapAxiosError(error) {
                if (error.response.status === 400) {
                    return 'Invalid Mini App ID';
                }
                return error.message;
            },
        });
    };
    createMiniApp = (appInfo) => {
        return this.doPost(`${this.buildRequestURI()}`, {
            ...appInfo,
        });
    };
    deployMiniApp = (deployApp) => {
        const formData = new FormData();
        formData.append('file', deployApp.file, {
            contentType: 'application/zip',
        });
        return this.doPost(`${this.buildRequestURI(deployApp.miniAppId, Constant.UPLOAD)}?${qs.stringify({
            name: deployApp.name,
            description: deployApp.description,
        })}`, formData);
    };
    requestPublishMiniApp = (requestPublishApp) => {
        return this.doPost(`${this.buildRequestURI(requestPublishApp.miniAppId, Constant.REQUEST_PUBLISH)}`, { ...requestPublishApp });
    };
    publishMiniApp = (publishApp) => {
        return this.doPost(`${this.buildRequestURI(publishApp.miniAppId, Constant.PUBLISH)}`, { ...publishApp });
    };
    getStats = async (statsRequest) => {
        const response = await this.doGet(`${this.buildRequestURI(statsRequest.miniAppId, Constant.STATS)}`, {
            ...statsRequest,
        });
        const { error, message, ...data } = response;
        return {
            error,
            message,
            data,
        };
    };
    listPaymentChannels = async (request) => {
        return this.doGet(`${this.buildRequestURI(request.miniAppId, Constant.PAYMENT_CHANNELS)}`, {});
    };
    convertObjectToFormData = (obj) => {
        const formData = new FormData();
        for (const key in obj) {
            if (obj.hasOwnProperty(key)) {
                const value = obj[key];
                if (Array.isArray(value)) {
                    for (let i = 0; i < value.length; i++) {
                        formData.append(`${key}[${i}]`, value[i]);
                    }
                }
                else if (typeof obj[key] === 'boolean') {
                    formData.append(key, obj[key] ? 'true' : 'false');
                }
                else {
                    formData.append(key, obj[key]);
                }
            }
        }
        return formData;
    };
    createPaymentChannel = async (request) => {
        return this.doPost(`${this.buildRequestURI(request.miniAppId, Constant.PAYMENT_CHANNELS)}`, this.convertObjectToFormData(request));
    };
    updatePaymentChannel = async (request) => {
        return this.doPut(`${this.buildRequestURI(request.miniAppId, Constant.PAYMENT_CHANNELS, request.channelId)}`, this.convertObjectToFormData(request));
    };
    buildRequestURI = (appId, path, ...pathVariables) => {
        let rs = `${this.version}${Constant.APPS}`;
        if (!!appId) {
            rs += `/${appId}`;
        }
        if (!!path) {
            rs += path;
        }
        for (const pathVariable of pathVariables) {
            rs += `/${pathVariable}`;
        }
        return rs;
    };
}
export default { BaseClient };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS1jbGllbnQuZHRvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2R0by9iYXNlLWNsaWVudC5kdG8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxVQUFVLEVBQTBCLE1BQU0sT0FBTyxDQUFDO0FBQ2xFLE9BQU8sUUFBUSxNQUFNLFdBQVcsQ0FBQztBQUNqQyxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUM7QUFDcEIsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBdUI5QyxNQUFNLE9BQU8sVUFBVTtJQUNiLE1BQU0sQ0FBUztJQUNmLFVBQVUsR0FBWSxLQUFLLENBQUM7SUFDNUIsS0FBSyxDQUFRO0lBQ2IsTUFBTSxHQUFXLFFBQVEsQ0FBQyxXQUFXLENBQUM7SUFDdEMsVUFBVSxHQUFXLE9BQU8sQ0FBQztJQUM3QixPQUFPLEdBQVcsU0FBUyxDQUFDO0lBQzVCLE9BQU8sQ0FBeUI7SUFDaEMsZ0JBQWdCLENBQVM7SUFDekIsa0JBQWtCLENBQVM7SUFDM0IsUUFBUSxDQUFTO0lBQ2pCLE9BQU8sQ0FBUztJQUV4QixZQUNFLE9BQWUsRUFDZixnQkFBd0IsRUFDeEIsTUFBYyxFQUNkLGtCQUEwQixFQUMxQixRQUFnQixFQUNoQixLQUFhO1FBRWIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3pDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztRQUM3QyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLEtBQUssRUFBRTtZQUNULElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO1FBQ0Qs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